#!/bin/bash
#SBATCH --job-name=4_ampc_rescore_cofold
#SBATCH --time=09:00:00
#SBATCH --partition=hpc_l40s
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --gres=gpu:4
#SBATCH --mem-per-gpu=40G
#SBATCH --output=ampc_%A.out

export CUDA_VISIBLE_DEVICES=0,1,2,3
export PATH=/ru-auth/local/home/ichen/miniconda3/bin:$PATH
source activate boltz_rescore

job_names=('ZINCoc000009eWAn.yaml'
 'ZINCpE000000b86g.yaml'
 'ZINCpi00000dt3Eq.yaml'
 'ZINClH000003Eanc.yaml'
 'ZINChc0000093gCI.yaml'
 'ZINCpe00000fSsaU.yaml'
 'ZINCt500000ryHPr.yaml'
 'ZINCnA000000orQq.yaml'
 'ZINCoK000006E8lc.yaml'
 'ZINCnt000000UegC.yaml'
 'ZINCpi00000dt6gi.yaml'
 'ZINCom0000097Q4H.yaml'
 'ZINCsD000004TVhI.yaml'
 'ZINCsm00000iQrqW.yaml'
 'ZINCpv000000cwzJ.yaml'
 'ZINCjl000003rtb7.yaml'
 'ZINCon00000lanUu.yaml'
 'ZINCtw000007RGRL.yaml'
 'ZINCnu000004zy8j.yaml'
 'ZINCpg00000D17KV.yaml'
 'ZINCno00000oneau.yaml'
 'ZINCpx000000O9qe.yaml'
 'ZINCor000004zKZT.yaml'
 'ZINCqp00000kNF78.yaml'
 'ZINCnH000008bnOR.yaml'
 'ZINCns000000BEPv.yaml'
 'ZINCol000009anMR.yaml'
 'ZINCoD000001dHHM.yaml'
 'ZINCpt000000bVzx.yaml'
 'ZINCqp00000kSNZa.yaml'
 'ZINCpk00000dtNBS.yaml'
 'ZINCmh000004KyWp.yaml'
 'ZINCpj00000hNVAb.yaml'
 'ZINCnB000000SUr5.yaml'
 'ZINCqE000004Yc1z.yaml'
 'ZINCt500000rA6UQ.yaml'
 'ZINCpg00000fKGMz.yaml'
 'ZINCoy0000009Tt4.yaml'
 'ZINCor000000eyEb.yaml'
 'ZINCov0000048MM5.yaml'
 'ZINCpf00000Bi1ww.yaml'
 'ZINCqc00000dzVAV.yaml'
 'ZINCri00000hjWgX.yaml'
 'ZINCpj00000iB17L.yaml'
 'ZINCok000009I0QF.yaml'
 'ZINCrl00000hoFwg.yaml'
 'ZINCnf00000ccrm9.yaml'
 'ZINCoG000005DlFg.yaml'
 'ZINCpq000007Odwh.yaml'
 'ZINCqr000000drXM.yaml'
 'ZINCoC000005xhLY.yaml'
 'ZINCl600000dSfQN.yaml'
 'ZINCrz000007KDq6.yaml'
 'ZINCos000004ZJnK.yaml'
 'ZINCoD000000YFpO.yaml'
 'ZINCme00000aSqqD.yaml'
 'ZINCpt000000aL1v.yaml'
 'ZINCps00000cLWcS.yaml'
 'ZINCpC00000cv0d1.yaml'
 'ZINCpe00000zm9y2.yaml'
 'ZINCnz0000005Z0D.yaml'
 'ZINCnB000000PcqT.yaml'
 'ZINCnC000001foVV.yaml'
 'ZINCli00000ceavQ.yaml'
 'ZINCnC000007hENS.yaml'
 'ZINCoB0000050LBQ.yaml'
 'ZINCql00000kMJCZ.yaml'
 'ZINCoB000003TTM3.yaml'
 'ZINCpx000000AXzs.yaml'
 'ZINCpw000005S8oM.yaml'
 'ZINCpC000001gcWo.yaml'
 'ZINCod00000wmJOZ.yaml'
 'ZINCjr000002EHQN.yaml'
 'ZINCpu000003FKat.yaml'
 'ZINCpv000006JTTq.yaml'
 'ZINCqB000007bYbU.yaml'
 'ZINCoB000003UBCR.yaml'
 'ZINCnz0000001AiZ.yaml'
 'ZINCmr000000v8P7.yaml'
 'ZINCpv000006Lsvh.yaml'
 'ZINCq900000sZ56B.yaml'
 'ZINCpG000000RtS6.yaml'
 'ZINCpR00000bVVSK.yaml'
 'ZINCoo000009bxW2.yaml'
 'ZINCoA000000rGRS.yaml'
 'ZINCqq000005JPhv.yaml'
 'ZINCpw000006M4N8.yaml'
 'ZINCpa00000sVMz3.yaml'
 'ZINCnz000000bgla.yaml'
 'ZINCqp000001FIc7.yaml'
 'ZINCoC000005A0pc.yaml'
 'ZINCsq00000hmCWl.yaml'
 'ZINCpK000006AHwY.yaml'
 'ZINCqv000005E8tE.yaml'
 'ZINCnE000001UaN2.yaml'
 'ZINCoH000005QgAz.yaml'
 'ZINCmz000000xLjg.yaml'
 'ZINCnD000007yf77.yaml'
 'ZINCox000004C867.yaml'
 'ZINCnw00000apDxQ.yaml'
 'ZINCnc00000boamX.yaml'
 'ZINCoL00000dWJgJ.yaml'
 'ZINCpL000007DVtA.yaml'
 'ZINCpr000009Rbus.yaml'
 'ZINCii000001zgJ2.yaml'
 'ZINCoo00000lcCpa.yaml'
 'ZINCpj00000ivT61.yaml'
 'ZINCnf00000cctsP.yaml'
 'ZINCqc00000cBw1j.yaml'
 'ZINCoz000005jTV2.yaml'
 'ZINCnd000000T8OM.yaml'
 'ZINCoA000003HiuK.yaml'
 'ZINCpq000007GHqn.yaml'
 'ZINCnc00000bo724.yaml'
 'ZINCpb00000upxKy.yaml'
 'ZINCoi00000cc4dD.yaml'
 'ZINCka000004rH4q.yaml'
 'ZINCni00000bpp4Y.yaml'
 'ZINCml00000cKo14.yaml'
 'ZINCru00000oiGIN.yaml'
 'ZINCqD0000043wQw.yaml'
 'ZINCkk000005rcGO.yaml'
 'ZINCpv000005MXhA.yaml'
 'ZINCsC000005c1B1.yaml'
 'ZINCqj00000kMktQ.yaml'
 'ZINCpr000004NIlp.yaml'
 'ZINCoq000000LICq.yaml'
 'ZINCpu000003H38I.yaml'
 'ZINCqv000005CS9P.yaml'
 'ZINCpM00000d7IVN.yaml'
 'ZINCno00000blLI2.yaml'
 'ZINChd000000jUCD.yaml'
 'ZINCox000000QeiP.yaml'
 'ZINCnF000007YVyr.yaml'
 'ZINCss0000066XoB.yaml'
 'ZINCl500000dRIr3.yaml'
 'ZINCqr00000fif5e.yaml'
 'ZINCoD00000a0HN9.yaml'
 'ZINCok00000ezd89.yaml'
 'ZINCpD000001SFce.yaml'
 'ZINCnr000000trh7.yaml'
 'ZINCnk000001KZeU.yaml'
 'ZINCpt000003Fzgz.yaml'
 'ZINCp700000fPzIg.yaml'
 'ZINCrt000008G4io.yaml'
 'ZINCmi000001m70x.yaml'
 'ZINCoD000001cdAU.yaml'
 'ZINCnD000001AkhO.yaml'
 'ZINCq500000jP7SS.yaml'
 'ZINCni00000bko3c.yaml'
 'ZINCk6000004dbKH.yaml'
 'ZINCmk00000edmma.yaml'
 'ZINCpk00000drftI.yaml'
 'ZINCny00000bwi3N.yaml'
 'ZINCoq000005P9IX.yaml'
 'ZINCpC000006BX6T.yaml'
 'ZINCoB0000041DJg.yaml'
 'ZINCpp00000dsBGi.yaml'
 'ZINCrb00000geh47.yaml'
 'ZINCpu000003YmQB.yaml'
 'ZINCsv0000066w7L.yaml'
 'ZINCpw000005U34t.yaml'
 'ZINCmF000003g2zk.yaml'
 'ZINCp500000lpyH6.yaml'
 'ZINCsg00000kJ12S.yaml'
 'ZINCkE000003LkBp.yaml'
 'ZINCnu000005U8Xm.yaml'
 'ZINCpG000009xP5O.yaml'
 'ZINCoF000003wYg2.yaml'
 'ZINCnq000000fZrn.yaml'
 'ZINCpx000000xQyt.yaml'
 'ZINCow000007LvUE.yaml'
 'ZINCo700000s200P.yaml'
 'ZINCox0000049EF3.yaml'
 'ZINCnw00000anuse.yaml'
 'ZINCoh0000096IGb.yaml'
 'ZINCoC0000043BiH.yaml'
 'ZINCoC0000099rby.yaml'
 'ZINCny00000bwiwA.yaml'
 'ZINCny00000bwiwv.yaml'
 'ZINCpE0000069rqo.yaml'
 'ZINCov000000f6px.yaml'
 'ZINCrp00000clUYi.yaml'
 'ZINCoo00000j5xlY.yaml'
 'ZINCnu000009AwD7.yaml'
 'ZINCpm00000drRrr.yaml'
 'ZINCrj00000hjZgV.yaml'
 'ZINCnr000000hXCE.yaml'
 'ZINCmh000001k3tN.yaml'
 'ZINCmB000003gQ9o.yaml'
 'ZINCnt0000097uQi.yaml'
 'ZINCpu000000m8rG.yaml'
 'ZINCpx000000ImB4.yaml'
 'ZINCrx000008gj2b.yaml'
 'ZINCpe00000yMXaL.yaml'
 'ZINCoA000003FzJ5.yaml'
 'ZINCor0000004uOf.yaml'
 'ZINCry000008hmQJ.yaml'
 'ZINCja000002wSji.yaml'
 'ZINCor0000008VyJ.yaml'
 'ZINCsE000004DCVo.yaml'
 'ZINCog00000z2VPY.yaml'
 'ZINCpv000005KfDr.yaml'
 'ZINCpr000005sZ93.yaml'
 'ZINCpt000002LM2W.yaml'
 'ZINCpt000002Qphq.yaml'
 'ZINCoO00000cZ4Rs.yaml'
 'ZINCsx000005ZUXq.yaml'
 'ZINCmb0000072Pxo.yaml'
 'ZINCsy000005SFSl.yaml'
 'ZINCnr000000z4uv.yaml'
 'ZINCkq0000005TlO.yaml'
 'ZINCl500000ckKmL.yaml'
 'ZINCpx000000Okr3.yaml'
 'ZINCrA000007JHPl.yaml'
 'ZINCtD000006JNy1.yaml'
 'ZINCms000000LJdi.yaml'
 'ZINCpq000005tFpP.yaml'
 'ZINCkg00000dz4KY.yaml'
 'ZINCkg00000gZQ9d.yaml'
 'ZINCph00000FiMLj.yaml'
 'ZINCl800000dTWX4.yaml'
 'ZINCps000005uWGq.yaml'
 'ZINCoD000001dHB7.yaml'
 'ZINCtC00000751to.yaml'
 'ZINCpk00000drjIe.yaml'
 'ZINCnA000000Co28.yaml'
 'ZINCoL00000cRFHN.yaml'
 'ZINClz000002bURP.yaml'
 'ZINCnI000004RIX1.yaml'
 'ZINCnn00000nEeQh.yaml'
 'ZINCou000005C7Aa.yaml'
 'ZINCo600000rth4s.yaml'
 'ZINCow000007pPpz.yaml'
 'ZINCo500000pC9h4.yaml'
 'ZINCmr0000050h48.yaml'
 'ZINCm8000000py4L.yaml'
 'ZINCpE000000dhXE.yaml'
 'ZINCpr000005uHXT.yaml'
 'ZINCqt000005Im7t.yaml'
 'ZINCot0000054w7o.yaml'
 'ZINCoz000007jdD8.yaml'
 'ZINCiu000001H1mj.yaml'
 'ZINCoA000003A65Q.yaml'
 'ZINCqu000005JLCr.yaml'
 'ZINCnf00000iEjuP.yaml'
 'ZINCpe00000fKuPE.yaml'
 'ZINCpD000006CcEh.yaml'
 'ZINCoC000009aDwy.yaml'
 'ZINCpO00000fit6P.yaml'
 'ZINCns000000LyBi.yaml'
 'ZINClb00000dVRT8.yaml'
 'ZINCpy0000013of3.yaml'
 'ZINCpy0000012wWo.yaml'
 'ZINCpq000004FIx1.yaml'
 'ZINCou0000003qDX.yaml'
 'ZINCoy00000077SN.yaml'
 'ZINCjb00000chg2y.yaml'
 'ZINClc00000cd922.yaml'
 'ZINCpv000005LFJC.yaml'
 'ZINCpu000006yr4S.yaml'
 'ZINCpP000008zImg.yaml'
 'ZINCqz000007b0ih.yaml'
 'ZINCpv000005Fke4.yaml'
 'ZINCor000004UgFR.yaml'
 'ZINCqc00000aM7D8.yaml'
 'ZINCjl00000cbr1B.yaml'
 'ZINCqr000005J3tK.yaml'
 'ZINCom0000097Opr.yaml'
 'ZINCpn00000elGl6.yaml'
 'ZINCpq00000dusY9.yaml'
 'ZINCop00000kTqDX.yaml'
 'ZINCqr000000dlyr.yaml'
 'ZINCor0000009iBx.yaml'
 'ZINCpL00000bTJ8J.yaml'
 'ZINCqy000005oKhV.yaml'
 'ZINCrn00000cjwnC.yaml'
 'ZINChf000000nVEj.yaml'
 'ZINCnx000002khQw.yaml'
 'ZINCn800000biK4K.yaml'
 'ZINCnr000000z1gP.yaml'
 'ZINCnD000001rJZb.yaml'
 'ZINCln00000efDKd.yaml'
 'ZINCpr000004Lwsz.yaml'
 'ZINCrm00000hpqs3.yaml'
 'ZINCpG000009aA3g.yaml'
 'ZINCpk00000kSyrK.yaml'
 'ZINCpg00000gQML0.yaml'
 'ZINCpo00000ut3nn.yaml'
 'ZINCnv000001ykQY.yaml'
 'ZINCol0000097A8N.yaml'
 'ZINCo5000009gE25.yaml'
 'ZINCnk00000bkPkN.yaml'
 'ZINCoF0000059tGT.yaml'
 'ZINCps00000cEFk7.yaml'
 'ZINCsw00000672h1.yaml'
 'ZINCpB000006BIww.yaml'
 'ZINCkp000006aWGs.yaml'
 'ZINCoB000004161h.yaml'
 'ZINCj500000ca00F.yaml'
 'ZINCow000007rLNF.yaml'
 'ZINCnd000005SJjJ.yaml'
 'ZINCnH000008gL5D.yaml'
 'ZINCse00000kBZuu.yaml')

# Build the tasks array
tasks=()
for JOB_NAME in "${job_names[@]}"; do
  tasks+=("boltz rescore /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_config/${JOB_NAME} --out_dir /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_processed/$(basename $JOB_NAME .yaml) --use_msa_server")
done

printf "%s\n" "${tasks[@]}" | parallel -j $SLURM_CPUS_PER_TASK
