#!/bin/bash
#SBATCH --job-name=1_ampc_rescore_cofold
#SBATCH --time=09:00:00
#SBATCH --partition=hpc_l40s
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --gres=gpu:4
#SBATCH --mem-per-gpu=40G
#SBATCH --output=ampc_%A.out

export CUDA_VISIBLE_DEVICES=0,1,2,3
export PATH=/ru-auth/local/home/ichen/miniconda3/bin:$PATH
source activate boltz_rescore

job_names=('ZINCsn00000gi4Gw.yaml'
 'ZINCoD00000a4nVs.yaml'
 'ZINCsD000004T3Lh.yaml'
 'ZINCpf00000fKBYM.yaml'
 'ZINCpr000004LNwv.yaml'
 'ZINCrl00000hkmH4.yaml'
 'ZINClg00000clWkF.yaml'
 'ZINCrj00000hk2l3.yaml'
 'ZINCpw000005U1F6.yaml'
 'ZINCns000000RNQO.yaml'
 'ZINCpO00000deDKA.yaml'
 'ZINCos000004Whm9.yaml'
 'ZINCpD000001Qu50.yaml'
 'ZINCpH000005Qcoa.yaml'
 'ZINCmg000007HSbm.yaml'
 'ZINCpw000000rQ09.yaml'
 'ZINCow000004txCw.yaml'
 'ZINCqk00000kMyqO.yaml'
 'ZINCoN00000cXSuC.yaml'
 'ZINCk7000004eUzF.yaml'
 'ZINCtE000006uiQe.yaml'
 'ZINCqk00000kPMe6.yaml'
 'ZINCnr000000yni2.yaml'
 'ZINClo00000krbIa.yaml'
 'ZINCib000001cawy.yaml'
 'ZINCpt000003FsTX.yaml'
 'ZINCnb00000bo3ij.yaml'
 'ZINCp500000lj7GQ.yaml'
 'ZINCpj00000drb8p.yaml'
 'ZINCmd000000RqSw.yaml'
 'ZINCpp00000dwQTT.yaml'
 'ZINCpv00000g7uFV.yaml'
 'ZINCon000009bh1Q.yaml'
 'ZINCp700000oU3xt.yaml'
 'ZINCsm00000iRqte.yaml'
 'ZINCmk000001FKYE.yaml'
 'ZINCst0000066UTn.yaml'
 'ZINCos000000pBf8.yaml'
 'ZINCpG000009hfT4.yaml'
 'ZINCog000008KVPG.yaml'
 'ZINClq000005Urcs.yaml'
 'ZINCnu000001roqc.yaml'
 'ZINCnu000009DLzG.yaml'
 'ZINCqd00000fsDYy.yaml'
 'ZINCox0000081DUA.yaml'
 'ZINCnA000006ryb6.yaml'
 'ZINCpr00000dv08J.yaml'
 'ZINCol0000097z5m.yaml'
 'ZINCrw000008wPXM.yaml'
 'ZINCnI000005G2xf.yaml'
 'ZINCpK00000bTMLS.yaml'
 'ZINCps000005vgjp.yaml'
 'ZINCrs000004ogT2.yaml'
 'ZINCqo000001idP0.yaml'
 'ZINCpz000006Xcju.yaml'
 'ZINCoA000004YDQn.yaml'
 'ZINCrm00000hpQEX.yaml'
 'ZINCk800000kFBH8.yaml'
 'ZINCpc00000vM5ji.yaml'
 'ZINCkq000003mui9.yaml'
 'ZINCn800000biK45.yaml'
 'ZINCpF000005RkLp.yaml'
 'ZINCov0000047szQ.yaml'
 'ZINCqm00000kQJ2R.yaml'
 'ZINCnJ000005Liof.yaml'
 'ZINCos000000sEwT.yaml'
 'ZINCrD000006I9yX.yaml'
 'ZINCoh00000b2fRD.yaml'
 'ZINCkp0000067n9g.yaml'
 'ZINCpD000001JsJn.yaml'
 'ZINCpu000000fSrV.yaml'
 'ZINCpu000003mvco.yaml'
 'ZINCpx000000OdWF.yaml'
 'ZINCo8000009ikLj.yaml'
 'ZINCrq000008Fflb.yaml'
 'ZINCpg00000D17DL.yaml'
 'ZINCqu000005JKc9.yaml'
 'ZINCpg00000fTkwj.yaml'
 'ZINCog000008KVPW.yaml'
 'ZINCq800000ckcrv.yaml'
 'ZINCoB000003KuHZ.yaml'
 'ZINCqw000005Dd2D.yaml'
 'ZINCpg00000CpAGH.yaml'
 'ZINCpJ000001UJNY.yaml'
 'ZINCrB000003F4PM.yaml'
 'ZINCnw000001UI4s.yaml'
 'ZINCoB0000040NMW.yaml'
 'ZINCpE000000jqSd.yaml'
 'ZINCpv000006LkJx.yaml'
 'ZINCl500000i5pXs.yaml'
 'ZINCtC0000075jGB.yaml'
 'ZINCpv000000bOg7.yaml'
 'ZINCrr000008HCWz.yaml'
 'ZINCoC000005AqRW.yaml'
 'ZINCqo00000kNqT2.yaml'
 'ZINCq800000rzBXv.yaml'
 'ZINCpG0000016I42.yaml'
 'ZINCpb00000fR8Pm.yaml'
 'ZINCrt000008F6N6.yaml'
 'ZINClf00000cdyUW.yaml'
 'ZINCtC0000075k1x.yaml'
 'ZINCpq000005u0x0.yaml'
 'ZINCns0000040CWz.yaml'
 'ZINCnC0000014kWC.yaml'
 'ZINCkk000005qLfS.yaml'
 'ZINCru000008FddF.yaml'
 'ZINCpq000005sTqt.yaml'
 'ZINCtE000006tFvs.yaml'
 'ZINCjr000002DaT7.yaml'
 'ZINCph00000EDV3p.yaml'
 'ZINCpq0000081DNm.yaml'
 'ZINCpt000002LxUY.yaml'
 'ZINCog000009kcPP.yaml'
 'ZINCom000009aMml.yaml'
 'ZINCns000000IZIr.yaml'
 'ZINCpj00000e7Uj1.yaml'
 'ZINCoB000003Lvvz.yaml'
 'ZINCpn00000drXQP.yaml'
 'ZINCnJ000008w8kE.yaml'
 'ZINCho000000M9sC.yaml'
 'ZINCpE000000nq3b.yaml'
 'ZINCnA000000DK5o.yaml'
 'ZINCoK000004aIKt.yaml'
 'ZINCp500000lUJlm.yaml'
 'ZINCt500000ru1Ns.yaml'
 'ZINCoH000003qlPz.yaml'
 'ZINCn6000000iTVW.yaml'
 'ZINCnz000003HUV6.yaml'
 'ZINCop00000jRuXj.yaml'
 'ZINCoT00000bVbE1.yaml'
 'ZINCoO00000eidon.yaml'
 'ZINCox000000PBvM.yaml'
 'ZINClx000007zkaV.yaml'
 'ZINCpi00000dsXc0.yaml'
 'ZINCqr000000i7tW.yaml'
 'ZINCpG0000011Nes.yaml'
 'ZINCnN00000dISgx.yaml'
 'ZINCpj00000drbac.yaml'
 'ZINCpt0000003zGO.yaml'
 'ZINCoM00000e5aKW.yaml'
 'ZINCkF000002qCss.yaml'
 'ZINCkc00000ciYUN.yaml'
 'ZINCnx000002kQMC.yaml'
 'ZINCnk00000lrILn.yaml'
 'ZINCnB000000QhkZ.yaml'
 'ZINCov000006Ixtw.yaml'
 'ZINCow000000uwH4.yaml'
 'ZINCpn00000dvFXv.yaml'
 'ZINCqc00000aM3tV.yaml'
 'ZINCou00000474I1.yaml'
 'ZINCoG000003UsLI.yaml'
 'ZINCpO00000dcctN.yaml'
 'ZINCmw000004menr.yaml'
 'ZINCnr000007ZKTm.yaml'
 'ZINCp700000pco03.yaml'
 'ZINCoh00000bai4I.yaml'
 'ZINCo9000004GCWe.yaml'
 'ZINCoE000003xPGB.yaml'
 'ZINCnD000007sJRv.yaml'
 'ZINCnz000000dXSG.yaml'
 'ZINCom00000lakC8.yaml'
 'ZINCpE0000007CkQ.yaml'
 'ZINCqb00000wBEoF.yaml'
 'ZINCoD0000012bI0.yaml'
 'ZINCnk00000lxRKI.yaml'
 'ZINCoA000007zBqb.yaml'
 'ZINCib000001cCNM.yaml'
 'ZINCjd00000chnX5.yaml'
 'ZINCtD000006Kzvk.yaml'
 'ZINCmh00000bK5Ns.yaml'
 'ZINCrw000008xiS2.yaml'
 'ZINCoL00000dWJ7Z.yaml'
 'ZINCpM00000bTTc7.yaml'
 'ZINCoo0000098s7K.yaml'
 'ZINCnA000000mBCl.yaml'
 'ZINCpC000006E3fI.yaml'
 'ZINCpE000000hUfc.yaml'
 'ZINClA000002os71.yaml'
 'ZINCol0000097AaU.yaml'
 'ZINCoz000004Yurm.yaml'
 'ZINCpJ00000btuG9.yaml'
 'ZINCq500000jP9HE.yaml'
 'ZINCpN00000bVC5B.yaml'
 'ZINCq700000pNS5c.yaml'
 'ZINCpE000000jfRc.yaml'
 'ZINCnA000004Qxpx.yaml'
 'ZINCnE000005ursN.yaml'
 'ZINCrn00000ciy0l.yaml'
 'ZINCsE000004DJts.yaml'
 'ZINCpe00000ytg9V.yaml'
 'ZINCrl00000hkmH5.yaml'
 'ZINCpg00000ChI0z.yaml'
 'ZINCpD00000em3Ye.yaml'
 'ZINCsE000004DJtp.yaml'
 'ZINCpb00000umeIA.yaml'
 'ZINCpf00000B4qnh.yaml'
 'ZINCpg00000CiYDj.yaml'
 'ZINCqp000001H0Iy.yaml'
 'ZINCpR00000bUc1b.yaml'
 'ZINCru000008FhoG.yaml'
 'ZINCos000004A5jq.yaml'
 'ZINCnf00000boF2e.yaml'
 'ZINCoh00000b2fHI.yaml'
 'ZINCov000006QgaK.yaml'
 'ZINCno00000okaAp.yaml'
 'ZINCj6000002mz0c.yaml'
 'ZINCmb000000zWk4.yaml'
 'ZINCrj00000hk45J.yaml'
 'ZINCpx000000LfUE.yaml'
 'ZINCru000008GOfR.yaml'
 'ZINCoA000000wCwt.yaml'
 'ZINCpr00000duOlX.yaml'
 'ZINCoF000003MXoh.yaml'
 'ZINCpG000009qmFs.yaml'
 'ZINCpo00000dsbV1.yaml'
 'ZINCkl000005DaSd.yaml'
 'ZINCoM00000cU8Ju.yaml'
 'ZINCmG000004Z2EV.yaml'
 'ZINCpC000004bzAe.yaml'
 'ZINCri00000hjWea.yaml'
 'ZINCsE000004DEiU.yaml'
 'ZINCrp00000cmf1S.yaml'
 'ZINCpD000001VHsu.yaml'
 'ZINCoD0000037O1B.yaml'
 'ZINCoy000005UWvN.yaml'
 'ZINCtB000007iJ9W.yaml'
 'ZINCpb00000uezvS.yaml'
 'ZINCqc00000dzVHy.yaml'
 'ZINCpd00000wLWgP.yaml'
 'ZINCnB000000UKHr.yaml'
 'ZINCpm00000drQ6Z.yaml'
 'ZINCnn00000bqZp5.yaml'
 'ZINCol0000097w4g.yaml'
 'ZINCpg00000gQm0e.yaml'
 'ZINCpy000006MO3s.yaml'
 'ZINCpx000000GUgc.yaml'
 'ZINCkh00000dBg3R.yaml'
 'ZINCpq000005sUhe.yaml'
 'ZINCos000000qsC1.yaml'
 'ZINCma000007zhRT.yaml'
 'ZINCpG0000017dZs.yaml'
 'ZINCpj00000dr66s.yaml'
 'ZINCom000009Nsdl.yaml'
 'ZINCpy000006KQdv.yaml'
 'ZINCqv000005CRhX.yaml'
 'ZINCph00000fKVyv.yaml'
 'ZINCse00000kC0AG.yaml'
 'ZINCns000000NmMc.yaml'
 'ZINCox000008ucNm.yaml'
 'ZINCoq000004QxSr.yaml'
 'ZINCpj00000dtfFK.yaml'
 'ZINCpG0000011B4y.yaml'
 'ZINCkt000000CgT8.yaml'
 'ZINCoz000005mkio.yaml'
 'ZINCon00000hT3LD.yaml'
 'ZINClg00000cdLbf.yaml'
 'ZINCil00000cgG1p.yaml'
 'ZINCjj00000cbfrE.yaml'
 'ZINCms0000047tXJ.yaml'
 'ZINCnx00000aRpH2.yaml'
 'ZINCor000000bINh.yaml'
 'ZINCoI000003yMte.yaml'
 'ZINCpC000001xI1B.yaml'
 'ZINCkt00000499eT.yaml'
 'ZINCmg00000bobZG.yaml'
 'ZINCoB0000041FsX.yaml'
 'ZINCop00000kUi3Y.yaml'
 'ZINCjA000003DyqB.yaml'
 'ZINCpO00000deSUE.yaml'
 'ZINCpw000006LD6Z.yaml'
 'ZINCpr000004M1Mk.yaml'
 'ZINCpv000005HR3A.yaml'
 'ZINCon000009b9Cj.yaml'
 'ZINCow000000oizS.yaml'
 'ZINCrw000008vgii.yaml'
 'ZINCop00000kXEki.yaml'
 'ZINCsu000006av6t.yaml'
 'ZINCp900000fJSSz.yaml'
 'ZINCjx000003jTFo.yaml'
 'ZINCpE000000hbS3.yaml'
 'ZINCpG000000XKFG.yaml'
 'ZINCoj00000d23kN.yaml'
 'ZINCpx000000P3Jr.yaml'
 'ZINCkE000002j7U6.yaml'
 'ZINCnv000001LpOT.yaml'
 'ZINCn500000bie6k.yaml'
 'ZINClp00000cfpbV.yaml'
 'ZINCqo00000kNkXR.yaml'
 'ZINCow000000xYCK.yaml'
 'ZINCov0000047wIM.yaml'
 'ZINCmo00000dS2oe.yaml'
 'ZINCj8000002rO3Q.yaml'
 'ZINCo500000o99b6.yaml'
 'ZINCld00000cdlh8.yaml'
 'ZINCox000000PZ4X.yaml'
 'ZINCps000005tqGd.yaml'
 'ZINCq900000tvT1q.yaml'
 'ZINCq900000sElCD.yaml'
 'ZINCqn00000kNd3x.yaml'
 'ZINCox000008HLjQ.yaml'
 'ZINCnp00000p1dye.yaml'
 'ZINCmu000003OuGW.yaml'
 'ZINCps000004RUJj.yaml'
 'ZINCoA0000050D7F.yaml')

# Build the tasks array
tasks=()
for JOB_NAME in "${job_names[@]}"; do
  tasks+=("boltz rescore /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_config/${JOB_NAME} --out_dir /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_processed/$(basename $JOB_NAME .yaml) --use_msa_server")
done

printf "%s\n" "${tasks[@]}" | parallel -j $SLURM_CPUS_PER_TASK
