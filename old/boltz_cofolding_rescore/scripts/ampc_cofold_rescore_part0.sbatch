#!/bin/bash
#SBATCH --job-name=0_ampc_rescore_cofold
#SBATCH --time=09:00:00
#SBATCH --partition=hpc_l40s
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --gres=gpu:4
#SBATCH --mem-per-gpu=40G
#SBATCH --output=ampc_%A.out

export CUDA_VISIBLE_DEVICES=0,1,2,3
export PATH=/ru-auth/local/home/ichen/miniconda3/bin:$PATH
source activate boltz_rescore

job_names=('ZINCnk00000bpPs7.yaml'
 'ZINCq900000sQR4k.yaml'
 'ZINCpe00000yMEkJ.yaml'
 'ZINCpz000008YxG6.yaml'
 'ZINCmp00000ed0zC.yaml'
 'ZINCpf00000fKDMH.yaml'
 'ZINCqk00000kMBFM.yaml'
 'ZINCou000005LXM1.yaml'
 'ZINCmr000000mxwx.yaml'
 'ZINCpu000003H4f1.yaml'
 'ZINCpt000003FmEa.yaml'
 'ZINCoy000004ZJPo.yaml'
 'ZINCqu000005I75i.yaml'
 'ZINCp700000piCrE.yaml'
 'ZINCpb00000u4ynT.yaml'
 'ZINCok0000099R2l.yaml'
 'ZINCil000001NWoM.yaml'
 'ZINCji0000034Vk7.yaml'
 'ZINCtB000007j0KP.yaml'
 'ZINClq000005S2gw.yaml'
 'ZINCnA000006AbUg.yaml'
 'ZINCpo00000dwdVn.yaml'
 'ZINCnF0000023yQs.yaml'
 'ZINClE000003aIr9.yaml'
 'ZINCoM00000cV88d.yaml'
 'ZINCps000005trls.yaml'
 'ZINCnA000000rkWM.yaml'
 'ZINCrl00000hkmH6.yaml'
 'ZINCp400000mTjzK.yaml'
 'ZINCpG0000016Vau.yaml'
 'ZINCpg00000BHVoe.yaml'
 'ZINCqc00000ccjbY.yaml'
 'ZINCpI00000aqpUp.yaml'
 'ZINCnC000001b4kd.yaml'
 'ZINCnb000000FGf9.yaml'
 'ZINCoy000006zJzP.yaml'
 'ZINCmh000007JhV8.yaml'
 'ZINCni00000civyI.yaml'
 'ZINCnA000000unIO.yaml'
 'ZINCmz000000wjlK.yaml'
 'ZINCpy0000013lop.yaml'
 'ZINCnz00000071Mk.yaml'
 'ZINCor000004zOvg.yaml'
 'ZINCoj000009768J.yaml'
 'ZINCoF000003NoJq.yaml'
 'ZINCnD000001wfzJ.yaml'
 'ZINCmc000000Jjn1.yaml'
 'ZINCrC000006Gnrm.yaml'
 'ZINClF000003iSdf.yaml'
 'ZINCno00000czGKY.yaml'
 'ZINCnC000001ePlb.yaml'
 'ZINCom000009aKuZ.yaml'
 'ZINCoD00000156Z4.yaml'
 'ZINCod00000wdCjF.yaml'
 'ZINCom000009aPSU.yaml'
 'ZINCpC000007adah.yaml'
 'ZINCqr00000fi5Wb.yaml'
 'ZINCsE000004DJtF.yaml'
 'ZINCpD000001LWGe.yaml'
 'ZINCoq000004zmTT.yaml'
 'ZINCpJ00000btfmB.yaml'
 'ZINCq900000srH00.yaml'
 'ZINCsB000005oGgq.yaml'
 'ZINCpL00000eyijc.yaml'
 'ZINCpm00000dv3Zn.yaml'
 'ZINCqw000005Ed61.yaml'
 'ZINCl500000ckG99.yaml'
 'ZINCjq000004QTBo.yaml'
 'ZINCqp000001zgSr.yaml'
 'ZINCot000000Bb4T.yaml'
 'ZINCnA000000DKug.yaml'
 'ZINCjh0000031wxB.yaml'
 'ZINClc00000cdeNO.yaml'
 'ZINCrk00000hkcd1.yaml'
 'ZINCsn00000gk4fi.yaml'
 'ZINCpn00000elXSy.yaml'
 'ZINCq900000tvSWG.yaml'
 'ZINClt000000O1Se.yaml'
 'ZINCka00000gzd7Y.yaml'
 'ZINCou0000048dvg.yaml'
 'ZINCtD000006KydA.yaml'
 'ZINCoq000004zoOh.yaml'
 'ZINCnL00000dyUtn.yaml'
 'ZINCp500000iY2Yy.yaml'
 'ZINCk6000004dK7H.yaml'
 'ZINCor0000006E9v.yaml'
 'ZINCkv000004fXeT.yaml'
 'ZINCpr000004LxzE.yaml'
 'ZINCp900000fJTd0.yaml'
 'ZINCnq000000aAov.yaml'
 'ZINClJ000003SkgO.yaml'
 'ZINCnA000000kUJb.yaml'
 'ZINClm00000kezXr.yaml'
 'ZINCox000000RNim.yaml'
 'ZINClp00000kDdI8.yaml'
 'ZINCnj00000bkDQZ.yaml'
 'ZINCoO00000cYJ2f.yaml'
 'ZINCju000002WkEx.yaml'
 'ZINCoj000009GnE5.yaml'
 'ZINCpx000006UUf3.yaml'
 'ZINCpt000000aqot.yaml'
 'ZINCps000004PM3m.yaml'
 'ZINCrB000003FDxX.yaml'
 'ZINCqg000000x9ik.yaml'
 'ZINCou0000047kRv.yaml'
 'ZINCmj00000edkWm.yaml'
 'ZINCln00000knrJ5.yaml'
 'ZINCqb00000xN1Nv.yaml'
 'ZINCo7000000nkWq.yaml'
 'ZINCmi00000742Ug.yaml'
 'ZINCqp000001yYE6.yaml'
 'ZINCoo00000iuDLU.yaml'
 'ZINCq500000l4Okp.yaml'
 'ZINCox000008O53Q.yaml'
 'ZINCol0000097Ab7.yaml'
 'ZINChm00000c8aFD.yaml'
 'ZINCow000000wEQA.yaml'
 'ZINCmC000000hMkN.yaml'
 'ZINCps000005tvIT.yaml'
 'ZINCoB000003Nghu.yaml'
 'ZINCsB000005oGga.yaml'
 'ZINCom000009aSdW.yaml'
 'ZINCoI0000041Pj9.yaml'
 'ZINCpf00000fSz4O.yaml'
 'ZINCpv00000088wC.yaml'
 'ZINCqg000000x9lw.yaml'
 'ZINCq800000d59IZ.yaml'
 'ZINCpe00000zfho2.yaml'
 'ZINCpI00000aW94w.yaml'
 'ZINCnq000000enWJ.yaml'
 'ZINCnE000001D5PV.yaml'
 'ZINCma00000a4pgD.yaml'
 'ZINCqy000005qjGR.yaml'
 'ZINCmn00000dzoy1.yaml'
 'ZINCoi0000096Skp.yaml'
 'ZINCnn00000blE4W.yaml'
 'ZINCph00000E7p3E.yaml'
 'ZINCql00000kMIXR.yaml'
 'ZINCpx000006MNps.yaml'
 'ZINCnz000000dWJ7.yaml'
 'ZINCrp00000ciZ9T.yaml'
 'ZINCnz000000a6xE.yaml'
 'ZINCsm00000iQNMw.yaml'
 'ZINCqp00000kTtKA.yaml'
 'ZINCpE000002PIYp.yaml'
 'ZINClq00000041dZ.yaml'
 'ZINCkl00000hjdrp.yaml'
 'ZINCpo00000dsk2f.yaml'
 'ZINCom00000gLNcX.yaml'
 'ZINCno00000blQqi.yaml'
 'ZINCou00000039XP.yaml'
 'ZINCnB000000WroU.yaml'
 'ZINCnr000005Qyiq.yaml'
 'ZINCnE000001Ssza.yaml'
 'ZINCpx000000Mymn.yaml'
 'ZINCrj00000hk1S0.yaml'
 'ZINCou000005jxow.yaml'
 'ZINCpx000000OnxP.yaml'
 'ZINCrz000007JOCA.yaml'
 'ZINCpO00000f9NDa.yaml'
 'ZINCpk00000l6Pna.yaml'
 'ZINCns000005Tpkm.yaml'
 'ZINCov000000eOAW.yaml'
 'ZINCov0000047rjc.yaml'
 'ZINCqr000004oNNc.yaml'
 'ZINCqj00000kMp5J.yaml'
 'ZINCpx000000OmLp.yaml'
 'ZINCnt0000097uGe.yaml'
 'ZINCol0000097pXw.yaml'
 'ZINCoG000003ylnc.yaml'
 'ZINCps000004TvbY.yaml'
 'ZINCnj00000kNb9x.yaml'
 'ZINCnA000000BbAl.yaml'
 'ZINCou0000008h0B.yaml'
 'ZINCqf000006ZrTv.yaml'
 'ZINCoH000005JAll.yaml'
 'ZINCps00000csjlX.yaml'
 'ZINCrl00000hoSzE.yaml'
 'ZINCos000004A5jc.yaml'
 'ZINClE000007zouL.yaml'
 'ZINCnt0000015lOI.yaml'
 'ZINCpK000006xUJw.yaml'
 'ZINCod000009jnFE.yaml'
 'ZINCqo00000kSuED.yaml'
 'ZINCnm00000n526N.yaml'
 'ZINCpl00000drBXS.yaml'
 'ZINCrp00000ciSUl.yaml'
 'ZINCry000008gVI9.yaml'
 'ZINCpy000007jbCe.yaml'
 'ZINCpl00000duwwm.yaml'
 'ZINClt000000RMHq.yaml'
 'ZINCnA000000tf1v.yaml'
 'ZINCot000004AfzH.yaml'
 'ZINCpr000005teNq.yaml'
 'ZINCpG0000010rKK.yaml'
 'ZINCpo00000dskn8.yaml'
 'ZINCrq000008G9PC.yaml'
 'ZINCrr000008HAHP.yaml'
 'ZINCsq000005PTnT.yaml'
 'ZINCmj000001tmJz.yaml'
 'ZINCoh0000098Sgh.yaml'
 'ZINCnH000005DVpR.yaml'
 'ZINCnx000002sjNF.yaml'
 'ZINCps00000dvuws.yaml'
 'ZINCke00000gOZP4.yaml'
 'ZINCnf0000018phh.yaml'
 'ZINCqb00000x0PLz.yaml'
 'ZINCsm00000iK6ru.yaml'
 'ZINCob000009iZSI.yaml'
 'ZINCqp00000kNF6U.yaml'
 'ZINCoH000005Yvs4.yaml'
 'ZINCpe00000gNjzN.yaml'
 'ZINCol00000fjyUS.yaml'
 'ZINCop0000098EyS.yaml'
 'ZINCot000004AncV.yaml'
 'ZINCpG0000013AIL.yaml'
 'ZINCoF000003N4Sx.yaml'
 'ZINCpd00000fKlvU.yaml'
 'ZINCoi000009DBKT.yaml'
 'ZINCmy000002raTW.yaml'
 'ZINCoF000003PSlq.yaml'
 'ZINCja00000cheg8.yaml'
 'ZINCpu000002TSp4.yaml'
 'ZINCqz0000079HfX.yaml'
 'ZINCpf00000fSJiX.yaml'
 'ZINCnC000001fTxi.yaml'
 'ZINCoF000003O397.yaml'
 'ZINCpJ000006uXyi.yaml'
 'ZINCpv000006LxJA.yaml'
 'ZINCo7000000mIoZ.yaml'
 'ZINCnv000001F5tS.yaml'
 'ZINCoB000003YFFK.yaml'
 'ZINCpx000000zJiG.yaml'
 'ZINCon00000laoaS.yaml'
 'ZINCoj00000cUWy4.yaml'
 'ZINCp700000p52X8.yaml'
 'ZINCoj00000978to.yaml'
 'ZINCqw000005EnYQ.yaml'
 'ZINCpx000000zwZO.yaml'
 'ZINCoy0000006JE9.yaml'
 'ZINCng0000019PNH.yaml'
 'ZINCnw0000027pU6.yaml'
 'ZINCli00000cebm0.yaml'
 'ZINCpu000003Z443.yaml'
 'ZINCpr000004NDGO.yaml'
 'ZINCke00000gQi0D.yaml'
 'ZINCnB000000Xj5l.yaml'
 'ZINCoh0000098MC3.yaml'
 'ZINCnu000001il8y.yaml'
 'ZINCpu000003GLug.yaml'
 'ZINCoe000009ffM3.yaml'
 'ZINCll00000cmIjZ.yaml'
 'ZINCnB000000R97h.yaml'
 'ZINCpE000000evvT.yaml'
 'ZINCk500000dpUvz.yaml'
 'ZINCoC000000DVmi.yaml'
 'ZINCoB000005wwFS.yaml'
 'ZINCsr000005WNoJ.yaml'
 'ZINCrr000008Frek.yaml'
 'ZINCqo00000MxpB8.yaml'
 'ZINCsq000005PcBK.yaml'
 'ZINCpu000002UM1Y.yaml'
 'ZINCst0000066r9C.yaml'
 'ZINCrw000008vcx8.yaml'
 'ZINCnm00000blcOn.yaml'
 'ZINCpg00000fTjBC.yaml'
 'ZINCnt0000010OmQ.yaml'
 'ZINCtA000007vAL4.yaml'
 'ZINCon00000987oP.yaml'
 'ZINCnE000001T8vd.yaml'
 'ZINCqk00000kMBFO.yaml'
 'ZINClu000007zx4W.yaml'
 'ZINCpx000000txF1.yaml'
 'ZINCnq000000e25o.yaml'
 'ZINCnE000005ur0m.yaml'
 'ZINCo500000nFiQG.yaml'
 'ZINCow000007Lhqj.yaml'
 'ZINCjm000003vhPh.yaml'
 'ZINClq0000003lHD.yaml'
 'ZINCin000001Uq8Y.yaml'
 'ZINCox000004zwkt.yaml'
 'ZINCqq0000007ZjZ.yaml'
 'ZINCos000000lQYs.yaml'
 'ZINCpw00000aZKY8.yaml'
 'ZINCpC000001uhHm.yaml'
 'ZINCl500000i5poR.yaml'
 'ZINCpt000002QbN3.yaml'
 'ZINCnu000001ofF0.yaml'
 'ZINCnu000004H7pl.yaml'
 'ZINCnm00000bqF0l.yaml'
 'ZINCoA000004YJz6.yaml'
 'ZINCng000001g8Fg.yaml'
 'ZINCml000001S8kJ.yaml'
 'ZINCoD0000011CZp.yaml'
 'ZINCli00000jznj7.yaml'
 'ZINCqc00000dzVCN.yaml'
 'ZINCnB000006U5lt.yaml'
 'ZINCjw0000039VIG.yaml'
 'ZINCpt000004RsOC.yaml'
 'ZINCoA0000082GBC.yaml'
 'ZINCps000005trlt.yaml'
 'ZINCrx000008gkUc.yaml'
 'ZINCtu000000fKOQ.yaml'
 'ZINCj6000002l5LT.yaml'
 'ZINCpo00000dvQ3k.yaml')

# Build the tasks array
tasks=()
for JOB_NAME in "${job_names[@]}"; do
  tasks+=("boltz rescore /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_config/${JOB_NAME} --out_dir /lustre/fs6/lyu_lab/scratch/ichen/data/boltz_runs/ampc_rescore_cofold_processed/$(basename $JOB_NAME .yaml) --use_msa_server")
done

printf "%s\n" "${tasks[@]}" | parallel -j $SLURM_CPUS_PER_TASK
